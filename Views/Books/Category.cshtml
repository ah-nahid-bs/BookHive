@model BookHive.ViewModels.CategoryBooksViewModel

@{
    ViewData["Title"] = $"{Model.CategoryName} Books";
}

<div class="container py-4">
    <h2 class="mb-4 section-heading">Books in "@Model.CategoryName"</h2>

    @if (!Model.Books.Any())
    {
        <div class="alert alert-info no-books-alert">No books found in this category.</div>
    }
    else
    {
        <div class="row">
            @foreach (var book in Model.Books)
            {
                <div class="col-md-3 mb-4">
                    <div class="book-card shadow-sm">
                        <img src="@book.ImageUrl" alt="@book.Title" class="book-image w-100 pt-5 ps-5 pe-5" />
                        <div class="book-card-body d-flex flex-column">
                            <h6 class="book-title">@book.Title</h6>
                            @* <p class="author-name">by @authorName</p> *@
                            <p class="current-price">à§³@book.Price</p>
                            <a href="/Books/Details/@book.Id" class="btn btn-sm ButtonText mt-auto">View</a>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
</div>

<style>
    :root {
        --lavender-primary: hsl(270, 50%, 70%); /* #9b87f5 */
        --lavender-light: hsl(270, 30%, 90%); /* #f8f4ff */
        --lavender-dark: hsl(270, 40%, 40%); /* #7e69ab */
    }

    /* Section Heading */
    .section-heading {
        color: #3c2f5f; /* Dark purple, matching Index.cshtml */
        font-weight: 600;
        font-size: 1.75rem;
    }

    /* No Books Alert */
    .no-books-alert {
        background: #f8f4ff; /* Light lavender background */
        border: 1px solid #9b87f5; /* Lavender border */
        color: #6e59a5; /* Lavender text */
        border-radius: 8px;
        padding: 1rem;
        font-size: 1rem;
        text-align: center;
    }

    /* Book Card */
    .book-card {
        background: linear-gradient(135deg, #ffffff, #f8f4ff); /* Gradient matching Index.cshtml */
        border: 1px solid rgba(155, 135, 245, 0.2); /* Light lavender border */
        border-radius: 12px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .book-card:hover {
        transform: translateY(-5px); /* Slight lift on hover */
        box-shadow: 0 8px 24px rgba(155, 135, 245, 0.3); /* Lavender shadow */
    }

    /* Book Image */
    .book-image {
        height: 250px;
        object-fit: cover;
        border-bottom: 1px solid rgba(155, 135, 245, 0.1); /* Subtle divider */
    }

    /* Book Card Body */
    .book-card-body {
        padding: 1rem;
    }

    /* Book Title */
    .book-title {
        font-size: 1rem; /* Matches h5 size */
        font-weight: 600;
        color: #3c2f5f; /* Dark purple, matching Index.cshtml */
        margin-bottom: 0.5rem;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    /* Author Name */
    .author-name {
        font-size: 0.875rem;
        color: #6e59a5; /* Lavender text, matching Index.cshtml */
    }

    /* Price */
    .current-price {
        font-size: 1rem;
        font-weight: 600;
        color: #9b87f5; /* Lavender primary, matching Index.cshtml */
        margin-bottom: 0.5rem;
    }

    /* View Details Button */
    .btn-details {
        background: #9b87f5; /* Lavender primary */
        color: white;
        border: none;
        border-radius: 8px;
        padding: 0.5rem 1rem;
        font-weight: 500;
        transition: all 0.3s ease;
        font-size: 0.875rem;
    }

    .btn-details:hover {
        background: #7e69ab; /* Lavender dark for hover */
        color: white;
    }
</style>